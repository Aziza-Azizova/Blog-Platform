"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"UserController",{enumerable:true,get:function(){return UserController}});const _express=require("express");const _userauthdto=require("./dto/user-auth.dto");const _Userservice=require("./User.service");const _validator=require("../../shared/validators/validator");const UserController=(0,_express.Router)();UserController.post("/signup",(0,_validator.validate)(_userauthdto.userSignupDtoSchema),async(req,res,next)=>{try{const user=await _Userservice.UserService.register(req,res);return res.status(201).json({message:"User successfully registered",user:user})}catch(error){next(error)}});UserController.post("/login",(0,_validator.validate)(_userauthdto.userLoginDtoSchema),async(req,res,next)=>{try{const{user,token}=await _Userservice.UserService.login(req,res);return res.status(200).json({message:"User successfully logged in",user,token})}catch(error){next(error)}});